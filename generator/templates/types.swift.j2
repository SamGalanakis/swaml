// Generated by BAML - do not edit
// swift-format-ignore-file

import Foundation
import SWAML

// MARK: - Enums
{% for e in enums %}

{% if e.docstring.is_some() %}
/// {{ e.docstring.as_ref().unwrap() }}
{% endif %}
{% if e.dynamic %}
public enum {{ e.name }}: Codable, Sendable, Equatable {
{% for value in e.values %}
{% if value.docstring.is_some() %}
    /// {{ value.docstring.as_ref().unwrap() }}
{% endif %}
    case {{ value.name }}
{% endfor %}

    /// Unknown value for forward compatibility
    case unknown(String)

    /// String value for encoding/decoding
    public var stringValue: String {
        switch self {
        case .unknown(let value):
            return value
{% for value in e.values %}
        case .{{ value.name }}:
            return "{{ value.raw_value() }}"
{% endfor %}
        }
    }

    /// Initialize from raw value string
    public init?(rawValue: String) {
        switch rawValue {
{% for value in e.values %}
        case "{{ value.raw_value() }}":
            self = .{{ value.name }}
{% endfor %}
        default:
            return nil
        }
    }

    public init(from decoder: Decoder) throws {
        let container = try decoder.singleValueContainer()
        let rawValue = try container.decode(String.self)
        self = {{ e.name }}(rawValue: rawValue) ?? .unknown(rawValue)
    }

    public func encode(to encoder: Encoder) throws {
        var container = encoder.singleValueContainer()
        try container.encode(stringValue)
    }
}
{% else %}
public enum {{ e.name }}: String, Codable, Sendable, CaseIterable, Equatable {
{% for value in e.values %}
{% if value.docstring.is_some() %}
    /// {{ value.docstring.as_ref().unwrap() }}
{% endif %}
{% if value.needs_raw_value() %}
    case {{ value.name }} = "{{ value.raw_value() }}"
{% else %}
    case {{ value.name }}
{% endif %}
{% endfor %}
}
{% endif %}
{% endfor %}

// MARK: - Classes
{% for class in classes %}

{% if class.docstring.is_some() %}
/// {{ class.docstring.as_ref().unwrap() }}
{% endif %}
public struct {{ class.name }}: Codable, Sendable, Equatable {
{% for field in class.fields %}
{% if field.docstring.is_some() %}
    /// {{ field.docstring.as_ref().unwrap() }}
{% endif %}
    public let {{ field.name }}: {{ field.type_string() }}
{% endfor %}
{% if class.needs_coding_keys() %}

    private enum CodingKeys: String, CodingKey {
{% for field in class.fields %}
{% if field.baml_name != field.name %}
        case {{ field.name }} = "{{ field.baml_name }}"
{% else %}
        case {{ field.name }}
{% endif %}
{% endfor %}
    }
{% endif %}

    public init(
{% for field in class.fields %}
        {{ field.name }}: {{ field.type_string() }}{% if !loop.last %},{% endif %}

{% endfor %}
    ) {
{% for field in class.fields %}
        self.{{ field.name }} = {{ field.name }}
{% endfor %}
    }
}
{% endfor %}

// MARK: - Type Aliases
{% for alias in type_aliases %}

{% if alias.docstring.is_some() %}
/// {{ alias.docstring.as_ref().unwrap() }}
{% endif %}
public typealias {{ alias.name }} = {{ alias.target_type_string() }}
{% endfor %}
